<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Resume - Resume Builder</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h4 class="mb-0"><i class="fas fa-file-alt text-primary"></i> ResumeAI</h4>
            <button class="btn-close-sidebar d-lg-none" id="closeSidebar">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <ul class="sidebar-menu">
            <li>
                <a href="dashboard.html">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </a>
            </li>
            <li>
                <a href="my-resumes.html">
                    <i class="fas fa-folder"></i>
                    <span>My Resumes</span>
                </a>
            </li>
            <li class="active">
                <a href="create-resume.html">
                    <i class="fas fa-plus-circle"></i>
                    <span>Create Resume</span>
                </a>
            </li>
            <li>
                <a href="upload-resume.html">
                    <i class="fas fa-upload"></i>
                    <span>Upload Resume (PDF)</span>
                </a>
            </li>
            <li>
                <a href="ai-builder.html">
                    <i class="fas fa-magic"></i>
                    <span>AI Resume Builder</span>
                </a>
            </li>
            <li>
                <a href="templates.html">
                    <i class="fas fa-th-large"></i>
                    <span>Templates</span>
                </a>
            </li>
            <li>
                <a href="profile.html">
                    <i class="fas fa-user"></i>
                    <span>Profile</span>
                </a>
            </li>
            <li class="mt-auto">
                <a href="#" onclick="handleLogout()">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </a>
            </li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Top Navbar -->
        <nav class="top-navbar">
            <button class="btn-toggle-sidebar" id="toggleSidebar">
                <i class="fas fa-bars"></i>
            </button>
            <div class="navbar-right">
                <button class="btn btn-outline-secondary btn-sm me-2" onclick="saveAsDraft()">
                    <i class="fas fa-save"></i> Save Draft
                </button>
                <button class="btn btn-primary btn-sm" onclick="downloadResume()">
                    <i class="fas fa-download"></i> Download
                </button>
            </div>
        </nav>

        <!-- Page Content -->
        <div class="content-area">
            <div class="page-header mb-4">
                <h1>Create Resume</h1>
                <p class="text-muted">Fill in your information to create a professional resume.</p>
            </div>

            <!-- Progress Bar -->
            <div class="progress-container mb-4">
                <div class="progress" style="height: 8px;">
                    <div class="progress-bar" id="formProgress" role="progressbar" style="width: 10%"></div>
                </div>
                <div class="progress-steps mt-3">
                    <div class="progress-step active" data-step="1">
                        <div class="step-circle">1</div>
                        <span>Personal</span>
                    </div>
                    <div class="progress-step" data-step="2">
                        <div class="step-circle">2</div>
                        <span>Summary</span>
                    </div>
                    <div class="progress-step" data-step="3">
                        <div class="step-circle">3</div>
                        <span>Experience</span>
                    </div>
                    <div class="progress-step" data-step="4">
                        <div class="step-circle">4</div>
                        <span>Education</span>
                    </div>
                    <div class="progress-step" data-step="5">
                        <div class="step-circle">5</div>
                        <span>Skills</span>
                    </div>
                </div>
            </div>

            <!-- Split Layout -->
            <div class="row g-4">
                <!-- Form Section -->
                <div class="col-lg-6">
                    <div class="card">
                        <div class="card-body">
                            <form id="resumeForm">
                                <!-- Section 1: Personal Information -->
                                <div class="form-section active" id="section-1">
                                    <h4 class="section-title">Personal Information</h4>
                                    <div class="mb-3">
                                        <label class="form-label">Full Name *</label>
                                        <input type="text" class="form-control" id="fullName" required>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Job Title *</label>
                                        <input type="text" class="form-control" id="jobTitle" required>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Email *</label>
                                            <input type="email" class="form-control" id="email" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Phone *</label>
                                            <input type="tel" class="form-control" id="phone" required>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Location</label>
                                        <input type="text" class="form-control" id="location" placeholder="City, Country">
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">LinkedIn</label>
                                            <input type="url" class="form-control" id="linkedin" placeholder="https://linkedin.com/in/...">
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Portfolio URL</label>
                                            <input type="url" class="form-control" id="portfolio" placeholder="https://...">
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Profile Photo</label>
                                        <input type="file" class="form-control" id="profilePhoto" accept="image/*">
                                    </div>
                                </div>

                                <!-- Section 2: Professional Summary -->
                                <div class="form-section" id="section-2">
                                    <h4 class="section-title">Professional Summary</h4>
                                    <div class="mb-3">
                                        <label class="form-label">Summary</label>
                                        <textarea class="form-control" id="summary" rows="6" maxlength="500"></textarea>
                                        <small class="text-muted"><span id="summaryCount">0</span>/500 characters</small>
                                    </div>
                                    <button type="button" class="btn btn-outline-primary btn-sm" onclick="improveSummary()">
                                        <i class="fas fa-magic"></i> AI Improve Summary
                                    </button>
                                </div>

                                <!-- Section 3: Experience -->
                                <div class="form-section" id="section-3">
                                    <h4 class="section-title">Work Experience</h4>
                                    <div id="experienceContainer">
                                        <div class="experience-block" data-index="0">
                                            <div class="mb-3">
                                                <label class="form-label">Company Name *</label>
                                                <input type="text" class="form-control" name="company[]" required>
                                            </div>
                                            <div class="mb-3">
                                                <label class="form-label">Job Role *</label>
                                                <input type="text" class="form-control" name="role[]" required>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6 mb-3">
                                                    <label class="form-label">Start Date</label>
                                                    <input type="month" class="form-control" name="expStart[]">
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <label class="form-label">End Date</label>
                                                    <input type="month" class="form-control" name="expEnd[]">
                                                </div>
                                            </div>
                                            <div class="mb-3 form-check">
                                                <input type="checkbox" class="form-check-input" name="currentWork[]">
                                                <label class="form-check-label">Currently Working Here</label>
                                            </div>
                                            <div class="mb-3">
                                                <label class="form-label">Responsibilities</label>
                                                <textarea class="form-control" name="responsibilities[]" rows="4"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-outline-primary btn-sm" onclick="addExperience()">
                                        <i class="fas fa-plus"></i> Add Experience
                                    </button>
                                </div>

                                <!-- Section 4: Projects -->
                                <div class="form-section" id="section-4">
                                    <h4 class="section-title">Projects</h4>
                                    <div id="projectsContainer">
                                        <div class="project-block" data-index="0">
                                            <div class="mb-3">
                                                <label class="form-label">Project Name</label>
                                                <input type="text" class="form-control" name="projectName[]">
                                            </div>
                                            <div class="mb-3">
                                                <label class="form-label">Description</label>
                                                <textarea class="form-control" name="projectDesc[]" rows="3"></textarea>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6 mb-3">
                                                    <label class="form-label">Tech Stack</label>
                                                    <input type="text" class="form-control" name="techStack[]" placeholder="React, Node.js, MongoDB">
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <label class="form-label">Project URL</label>
                                                    <input type="url" class="form-control" name="projectUrl[]">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-outline-primary btn-sm" onclick="addProject()">
                                        <i class="fas fa-plus"></i> Add Project
                                    </button>
                                </div>

                                <!-- Section 5: Education -->
                                <div class="form-section" id="section-5">
                                    <h4 class="section-title">Education</h4>
                                    <div id="educationContainer">
                                        <div class="education-block" data-index="0">
                                            <div class="mb-3">
                                                <label class="form-label">Institution</label>
                                                <input type="text" class="form-control" name="institution[]">
                                            </div>
                                            <div class="mb-3">
                                                <label class="form-label">Degree</label>
                                                <input type="text" class="form-control" name="degree[]">
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6 mb-3">
                                                    <label class="form-label">Field of Study</label>
                                                    <input type="text" class="form-control" name="field[]">
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <label class="form-label">Year</label>
                                                    <input type="text" class="form-control" name="eduYear[]" placeholder="2020 - 2024">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-outline-primary btn-sm" onclick="addEducation()">
                                        <i class="fas fa-plus"></i> Add Education
                                    </button>
                                </div>

                                <!-- Navigation Buttons -->
                                <div class="form-navigation mt-4">
                                    <button type="button" class="btn btn-secondary" id="prevBtn" onclick="changeSection(-1)" style="display: none;">
                                        <i class="fas fa-arrow-left"></i> Previous
                                    </button>
                                    <button type="button" class="btn btn-primary" id="nextBtn" onclick="changeSection(1)">
                                        Next <i class="fas fa-arrow-right"></i>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Preview Section -->
                <div class="col-lg-6">
                    <div class="sticky-preview">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Live Preview</h5>
                                <div>
                                    <button class="btn btn-sm btn-outline-secondary" onclick="zoomOut()">
                                        <i class="fas fa-search-minus"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-secondary" onclick="zoomIn()">
                                        <i class="fas fa-search-plus"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="card-body p-0">
                                <div class="resume-preview" id="resumePreview">
                                    <div class="preview-placeholder">
                                        <i class="fas fa-file-alt"></i>
                                        <p>Start filling the form to see your resume preview</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/script.js"></script>
    <script src="assets/js/create-resume.js"></script>
</body>
</html>